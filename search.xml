<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>日常记录</title>
      <link href="/2021/08/05/%E6%97%A5%E5%B8%B8%E8%AE%B0%E5%BD%95/"/>
      <url>/2021/08/05/%E6%97%A5%E5%B8%B8%E8%AE%B0%E5%BD%95/</url>
      
        <content type="html"><![CDATA[<h2 id="1、日常记录"><a href="#1、日常记录" class="headerlink" title="1、日常记录"></a>1、日常记录</h2><h3 id="1、调整桌面图标间距"><a href="#1、调整桌面图标间距" class="headerlink" title="1、调整桌面图标间距"></a>1、调整桌面图标间距</h3><ol><li><p>按 ctrl + r ，然后输入regedit， 打开注册表</p><p> <img src="/2021/08/05/%E6%97%A5%E5%B8%B8%E8%AE%B0%E5%BD%95/image-20210722094509062.png" class="lazyload" data-srcset="/2021/08/05/%E6%97%A5%E5%B8%B8%E8%AE%B0%E5%BD%95/image-20210722094509062.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="image-20210722094509062"></p></li><li><p>分别双击调整水平和垂直间距</p><p> <img src="/2021/08/05/%E6%97%A5%E5%B8%B8%E8%AE%B0%E5%BD%95/image-20210722094611758.png" class="lazyload" data-srcset="/2021/08/05/%E6%97%A5%E5%B8%B8%E8%AE%B0%E5%BD%95/image-20210722094611758.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="image-20210722094611758"></p></li><li><p> 然后完成之后重启电脑，重新加载注册表才可以看到调整后的效果</p></li></ol><h3 id="2、gitee生成公钥"><a href="#2、gitee生成公钥" class="headerlink" title="2、gitee生成公钥"></a>2、gitee生成公钥</h3><ol><li><p>在git窗口输入指令</p> <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh-keygen</span><br></pre></td></tr></table></figure></li><li><p>然后按三下回车即可</p><p> <img src="/2021/08/05/%E6%97%A5%E5%B8%B8%E8%AE%B0%E5%BD%95/image-20210805170233091.png" class="lazyload" data-srcset="/2021/08/05/%E6%97%A5%E5%B8%B8%E8%AE%B0%E5%BD%95/image-20210805170233091.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="image-20210805170233091"></p></li><li><p>然后进入对应的文件中查看公钥</p> <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">C:\Users\12562\.ssh</span><br></pre></td></tr></table></figure></li></ol><h3 id="3、配置环境变量"><a href="#3、配置环境变量" class="headerlink" title="3、配置环境变量"></a>3、配置环境变量</h3><blockquote><p>  Java环境</p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">JAVA_HOME</span><br><span class="line">C:\Program Files\Java\jdk1.8.0_301</span><br><span class="line"></span><br><span class="line">Path</span><br><span class="line">.;%JAVA_HOME%\bin;%JAVA_HOME%\jre\bin</span><br></pre></td></tr></table></figure><blockquote><p>  Maven环境</p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">M2_HOME</span><br><span class="line">D:\Program Files\Maven\apache-maven-3.8.1-bin\apache-maven-3.8.1\bin</span><br><span class="line"></span><br><span class="line">MAVEN_HOME</span><br><span class="line">D:\Program Files\Maven\apache-maven-3.8.1-bin\apache-maven-3.8.1</span><br><span class="line"></span><br><span class="line">Path</span><br><span class="line">%MAVEN_HOME%\bin</span><br></pre></td></tr></table></figure><h2 id="2、笔记"><a href="#2、笔记" class="headerlink" title="2、笔记"></a>2、笔记</h2><h3 id="1、后端内容"><a href="#1、后端内容" class="headerlink" title="1、后端内容"></a>1、后端内容</h3><h4 id="1、注解的说明"><a href="#1、注解的说明" class="headerlink" title="1、注解的说明"></a>1、注解的说明</h4><blockquote><p>  @Repository的作用</p></blockquote><ul><li>  @Repository、@Service、@Controller 和 @Component 将类标识为Bean</li><li>  它用于将数据访问层 (DAO 层 ) 的类标识为 Spring Bean。具体只需将该注解标注在 DAO类上即可。同时，为了让 Spring 能够扫描类路径中的类并识别出 @Repository 注解</li></ul><blockquote><p>  @component的作用</p></blockquote><p><strong>作用：</strong>例如我在实现类中用到了@Autowired注解，被注解的这个类是从Spring容器中取出来的，那调用的实现类也需要被Spring容器管理，加上@Component</p><p><strong>和@Bean的区别：</strong></p><ul><li><p>  @Component注解表明一个类会作为组件类，并告知Spring要为这个类创建bean</p></li><li><p>  @Bean注解告诉Spring这个方法将会返回一个对象，这个对象要注册为Spring应用上下文中的bean。通常方法体中包含了最终产生bean实例的逻辑</p></li><li><p>  两者的目的是一样的，都是注册bean到Spring容器中</p></li></ul><h4 id="2、Collector和Collectors"><a href="#2、Collector和Collectors" class="headerlink" title="2、Collector和Collectors"></a>2、Collector和Collectors</h4><blockquote><p>  示例</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">List&lt;PositionConnect&gt; positionConnect = produceBiz.getPositionConnect()</span><br><span class="line">    .stream().filter(e -&gt; e.getLocationCode().equals(locationCode)).collect(Collectors.toList());</span><br></pre></td></tr></table></figure><ul><li>  Collector是专门用来作为Stream的collect方法的参数的</li><li>  而Collectors是作为生产具体Collector的工具类</li><li>  Collection的集合子类可以使用 <code>stream().filter(flag).collect(Collectors.toList())</code>通过设置 flag 条件进行内容过滤</li></ul><p>参考文章：<a href="https://www.jianshu.com/p/7eaa0969b424">https://www.jianshu.com/p/7eaa0969b424</a></p><h4 id="3、复制对象内容"><a href="#3、复制对象内容" class="headerlink" title="3、复制对象内容"></a>3、复制对象内容</h4><blockquote><p>  示例</p></blockquote><p>通过调用 BeanUtils 的 <code>copyProperties</code> 方法，将 warehouse 的内容复制到 vo 中，两者的属性相同，但是 vo 增加了其他方法</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">List&lt;Warehouse&gt; warehouses = warehouseBiz.getWarehouseIncludeVirtual();</span><br><span class="line">List&lt;WarehouseVo&gt; warehouseVos = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (Warehouse warehouse : warehouses) &#123;</span><br><span class="line">    WarehouseVo vo = <span class="keyword">new</span> WarehouseVo();</span><br><span class="line">    BeanUtils.copyProperties(warehouse, vo);</span><br><span class="line">    warehouseVos.add(vo);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="4、Java代码注释TODO-FIXME-XXX的意义"><a href="#4、Java代码注释TODO-FIXME-XXX的意义" class="headerlink" title="4、Java代码注释TODO FIXME XXX的意义"></a>4、Java代码注释TODO FIXME XXX的意义</h4><p><strong>TODO: 说明：</strong></p><ul><li>  如果代码中有该标识，说明在标识处有功能代码待编写，待实现的功能在说明中会简略说明，表示需要实现，但目前还未实现的功能。</li></ul><p><strong>FIXME: 说明：</strong></p><ul><li>  如果代码中有该标识，说明标识处代码需要修正，甚至代码是错误的，不能工作，需要修复，如何修正会在说明中简略说明。代码是错误的，不能工作，需要修复</li></ul><p><strong>XXX: 说明：</strong></p><ul><li>  如果代码中有该标识，说明标识处代码虽然实现了功能，但是实现的方法有待商榷，希望将来能改进，要改进的地方会在说明中简略说明。勉强可以工作，但是性能差等原因</li></ul><p>使用了上方注解之后可以在IDEA中快速查看到标记的代码位置。</p><p><img src="/2021/08/05/%E6%97%A5%E5%B8%B8%E8%AE%B0%E5%BD%95/image-20210727160922150.png" class="lazyload" data-srcset="/2021/08/05/%E6%97%A5%E5%B8%B8%E8%AE%B0%E5%BD%95/image-20210727160922150.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="image-20210727160922150"></p><h4 id="6、sql优化的几种方式"><a href="#6、sql优化的几种方式" class="headerlink" title="6、sql优化的几种方式"></a>6、sql优化的几种方式</h4><ol><li><p>  对查询进行优化，应尽量避免全表扫描，首先应考虑在 where 及 order by 涉及的列上建立索引</p></li><li><p>.应尽量避免在 where 子句中对字段进行 null 值判断，否则将导致引擎放弃使用索引而进行全表扫描，如：</p>  <figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> id <span class="keyword">from</span> t <span class="keyword">where</span> num <span class="keyword">is</span> <span class="keyword">null</span>   </span><br></pre></td></tr></table></figure><p>  可以在num上设置默认值0，确保表中num列没有null值，然后这样查询：</p>  <figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> id <span class="keyword">from</span> t <span class="keyword">where</span> num<span class="operator">=</span><span class="number">0</span>   </span><br></pre></td></tr></table></figure></li><li><p>  应尽量避免在 where 子句中使用!=或&lt;&gt;操作符，否则将引擎放弃使用索引而进行全表扫描</p></li><li><p>对于连续的数值，能用 between 就不要用 in 了：</p>  <figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> id <span class="keyword">from</span> t <span class="keyword">where</span> num <span class="keyword">between</span> <span class="number">1</span> <span class="keyword">and</span> <span class="number">3</span> </span><br></pre></td></tr></table></figure></li><li><p>应尽量避免在 where 子句中对字段进行表达式操作，这将导致引擎放弃使用索引而进行全表扫描。如：</p>  <figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> id <span class="keyword">from</span> t <span class="keyword">where</span> num<span class="operator">/</span><span class="number">2</span><span class="operator">=</span><span class="number">100</span> </span><br></pre></td></tr></table></figure><p>  应改为: </p>  <figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> id <span class="keyword">from</span> t <span class="keyword">where</span> num<span class="operator">=</span><span class="number">100</span><span class="operator">*</span><span class="number">2</span>   </span><br></pre></td></tr></table></figure></li><li><p>应尽量避免在where子句中对字段进行函数操作，这将导致引擎放弃使用索引而进行全表扫描。如：</p>  <figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- name以abc开头的idselect id from t where substring(name,1,3)=&#x27;abc&#x27; </span></span><br></pre></td></tr></table></figure><p>  应改为: </p>  <figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> id <span class="keyword">from</span> t <span class="keyword">where</span> name <span class="keyword">like</span> <span class="string">&#x27;abc%&#x27;</span> </span><br></pre></td></tr></table></figure></li><li><p>  并不是所有索引对查询都有效，SQL是根据表中数据来进行查询优化的，当索引列有大量数据重复时，SQL查询可能不会去利用索引，如一表中有字段 sex 中的 male 、 female 几乎各一半，那么即使在sex上建了索引也对查询效率起不了作用</p></li><li><p>  索引并不是越多越好，索引固然可以提高相应的 select 的效率，但同时也降低了 insert 及 update 的效率，因为 insert 或 update 时有可能会重建索引，索引最好不要超过6个</p></li><li><p>  尽量使用数字型字段，若只含数值信息的字段尽量不要设计为字符型，这会降低查询和连接的性能，并会增加存储开销</p></li><li><p>  尽可能的使用 varchar 代替 char ，因为首先变长字段存储空间小，可以节省存储空间，其次对于查询来说，在一个相对较小的字段内搜索效率显然要高些</p></li></ol><h4 id="7、update更新两个表格内容"><a href="#7、update更新两个表格内容" class="headerlink" title="7、update更新两个表格内容"></a>7、update更新两个表格内容</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 查看需要修改的条目信息</span></span><br><span class="line"><span class="keyword">SELECT</span></span><br><span class="line">a.locationCode,</span><br><span class="line">a.locationName <span class="keyword">AS</span> <span class="string">&#x27;发货单&#x27;</span>,</span><br><span class="line">b.locationName <span class="keyword">AS</span> <span class="string">&#x27;原库位&#x27;</span> </span><br><span class="line"><span class="keyword">FROM</span></span><br><span class="line">`t_purchase_order_receipt` a</span><br><span class="line"><span class="keyword">JOIN</span> `t_warehouse_position` b <span class="keyword">ON</span> a.locationName <span class="operator">&lt;&gt;</span> b.locationName</span><br><span class="line"><span class="keyword">WHERE</span></span><br><span class="line">a.locationCode <span class="operator">=</span> b.locationCode;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">-- 执行更改</span></span><br><span class="line">UPDATE `t_purchase_order_receipt` a,</span><br><span class="line">`t_warehouse_position` b </span><br><span class="line"><span class="keyword">SET</span> a.locationName <span class="operator">=</span> b.locationName </span><br><span class="line"><span class="keyword">WHERE</span></span><br><span class="line">a.locationCode <span class="operator">=</span> b.locationCode </span><br><span class="line"><span class="keyword">AND</span> a.locationName <span class="operator">&lt;&gt;</span> b.locationName;</span><br></pre></td></tr></table></figure><h4 id="8、自定义拦截器"><a href="#8、自定义拦截器" class="headerlink" title="8、自定义拦截器"></a>8、自定义拦截器</h4><blockquote><p>  用于拦截未登录或授权的用户</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* 1、继承 HandlerInterceptorAdapter 抽象类</span></span><br><span class="line"><span class="comment">* 2、重写方法：</span></span><br><span class="line"><span class="comment">*  preHandle：该方法将在Controller处理之前进行调用</span></span><br><span class="line"><span class="comment">*  postHandle: 它的执行时间是在处理器进行处理之后，也就是在Controller的方法调用之后执行</span></span><br><span class="line"><span class="comment">*  afterCompletion：该方法也是需要当前对应的Interceptor的preHandle方法的返回值为true时才会执行</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span> <span class="keyword">extends</span> <span class="title">HandlerInterceptorAdapter</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Test</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">preHandle</span><span class="params">(HttpServletRequest request, HttpServletResponse response, Object handler)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">super</span>.preHandle(request, response, handler);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">postHandle</span><span class="params">(HttpServletRequest request, HttpServletResponse response, Object handler, ModelAndView modelAndView)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>.postHandle(request, response, handler, modelAndView);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">afterCompletion</span><span class="params">(HttpServletRequest request, HttpServletResponse response, Object handler, Exception ex)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>.afterCompletion(request, response, handler, ex);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">afterConcurrentHandlingStarted</span><span class="params">(HttpServletRequest request, HttpServletResponse response, Object handler)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>.afterConcurrentHandlingStarted(request, response, handler);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="9、Java中-的作用"><a href="#9、Java中-的作用" class="headerlink" title="9、Java中 :: 的作用"></a>9、Java中 :: 的作用</h4><blockquote><p>  用来调用方法</p></blockquote><p>Java 8 中我们可以通过 <code>::</code> 关键字来访问类的构造方法，对象方法，静态方法</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span> </span>&#123;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">printValur</span><span class="params">(String str)</span> </span>&#123;</span><br><span class="line">System.out.println(<span class="string">&quot;print value : &quot;</span> + str);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">List&lt;String&gt; al = Arrays.asList(<span class="string">&quot;a&quot;</span>, <span class="string">&quot;b&quot;</span>, <span class="string">&quot;c&quot;</span>, <span class="string">&quot;d&quot;</span>);</span><br><span class="line">al.forEach(Test::printValur);</span><br><span class="line"><span class="comment">// 下面的方法和上面等价的</span></span><br><span class="line">Consumer&lt;String&gt; methodParam = Test::printValur; <span class="comment">// 方法参数</span></span><br><span class="line">al.forEach(x -&gt; methodParam.accept(x));<span class="comment">// 方法执行accept</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="10、匹配map的键"><a href="#10、匹配map的键" class="headerlink" title="10、匹配map的键"></a>10、匹配map的键</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Optional&lt;String&gt; key = map.keySet().stream().filter(e -&gt; e.contains(<span class="string">&quot;退货&quot;</span>)).findAny();</span><br><span class="line">String s = key.get();</span><br><span class="line">Object o = map.get(s);</span><br></pre></td></tr></table></figure><h4 id="11、Hutool-读取Excel文件"><a href="#11、Hutool-读取Excel文件" class="headerlink" title="11、Hutool 读取Excel文件"></a>11、Hutool 读取Excel文件</h4><blockquote><p>  官方文档：<a href="https://hutool.cn/docs/#/poi/Excel%E5%B7%A5%E5%85%B7-ExcelUtil">https://hutool.cn/docs/#/poi/Excel%E5%B7%A5%E5%85%B7-ExcelUtil</a></p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 加载Excel表格</span></span><br><span class="line">File file = FileUtil.file(<span class="string">&quot;C:\\Users\\12562\\Desktop\\退货数据批量导入模板.xlsx&quot;</span>);</span><br><span class="line">FileInputStream fi1 = <span class="keyword">new</span> FileInputStream(file);</span><br><span class="line">ExcelReader template = ExcelUtil.getReader(fi1, <span class="string">&quot;批量导入模板&quot;</span>);</span><br><span class="line"><span class="comment">// 读取内容</span></span><br><span class="line">List&lt;Map&lt;String, Object&gt;&gt; templateList = template.readAll();</span><br></pre></td></tr></table></figure><h4 id="12、Stream-流的用法"><a href="#12、Stream-流的用法" class="headerlink" title="12、Stream()流的用法"></a>12、Stream()流的用法</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 将内容映射为 Map 的键值对</span></span><br><span class="line">List&lt;Map&lt;String, Object&gt;&gt; templateList;</span><br><span class="line">Map&lt;Pair&lt;Object, Object&gt;, Triple&lt;Object, Object, Object&gt;&gt; itemDict = itemList</span><br><span class="line">    .stream()</span><br><span class="line">    .collect(Collectors.toMap(e -&gt; <span class="keyword">new</span> Pair&lt;&gt;(e.get(<span class="string">&quot;对照方案名称&quot;</span>), e.get(<span class="string">&quot;品名（客户）&quot;</span>))</span><br><span class="line">                              , e -&gt; <span class="keyword">new</span> Triple&lt;&gt;(e.get(<span class="string">&quot;料号（客户）&quot;</span>), e.get(<span class="string">&quot;料号（PMS）&quot;</span>), e.get(<span class="string">&quot;品名（PMS）&quot;</span>))));</span><br><span class="line"></span><br><span class="line"><span class="comment">// 获取内容</span></span><br><span class="line">List&lt;BatchRefundExcelDto&gt; refundList；</span><br><span class="line"><span class="keyword">for</span>(BatchRefundExcelDto dto : refundList) &#123;</span><br><span class="line">    Triple&lt;Object, Object, Object&gt; triple = itemDict.get(<span class="keyword">new</span> Pair&lt;&gt;(dto.getControlScheme(), dto.getItemName()));</span><br><span class="line">        <span class="keyword">if</span>(triple != <span class="keyword">null</span>) &#123;</span><br><span class="line">            dto.setOutCode(String.valueOf(triple.getX()));</span><br><span class="line">            dto.setSkuCode(String.valueOf(triple.getY()));</span><br><span class="line">            dto.setSkuName(String.valueOf(triple.getZ()));</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 按相同的值进行分组</span></span><br><span class="line">Map&lt;String, List&lt;BatchRefundExcelDto&gt;&gt; collect = refundList</span><br><span class="line">    .stream()</span><br><span class="line">    .collect(Collectors.groupingBy(BatchRefundExcelDto::getRefundId));</span><br><span class="line"></span><br><span class="line"><span class="comment">// 匹配一个符合要求的键的值</span></span><br><span class="line">Optional&lt;String&gt; key = map.keySet().stream().filter(e -&gt; e.contains(<span class="string">&quot;xxx&quot;</span>)).findAny();</span><br><span class="line">Object o = map.get(key);</span><br></pre></td></tr></table></figure><h4 id="13、根据文件名获取输入流"><a href="#13、根据文件名获取输入流" class="headerlink" title="13、根据文件名获取输入流"></a>13、根据文件名获取输入流</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 固有句式，后面可提升</span></span><br><span class="line"><span class="keyword">if</span> (StringUtils.contains(fileName, <span class="string">&quot; &quot;</span>) || StringUtils.isEmpty(fileName)) &#123;</span><br><span class="line">    <span class="keyword">return</span> BaseRet.createFailResult(<span class="number">10000</span>, <span class="string">&quot;文件名称不合法&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">String url = qiniuClient.getPrivateFileUrl(fileName);</span><br><span class="line">InputStream inputStream = qiniuClient.getFileInputStream(url);</span><br></pre></td></tr></table></figure><h4 id="14、将输入流转为字节数组"><a href="#14、将输入流转为字节数组" class="headerlink" title="14、将输入流转为字节数组"></a>14、将输入流转为字节数组</h4><blockquote><p>  因为使用Hutool工具类读取Excel后，会自动关闭输入流导致无法读取多个工作表</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 复制输入流到字节输出流</span></span><br><span class="line">ByteArrayOutputStream byteArrayOutputStream = <span class="keyword">new</span> ByteArrayOutputStream();</span><br><span class="line">IOUtils.copy(inputStream, byteArrayOutputStream);</span><br><span class="line"><span class="keyword">byte</span>[] bytes = byteArrayOutputStream.toByteArray();</span><br><span class="line"></span><br><span class="line"><span class="comment">// 将字节数组转为输入流</span></span><br><span class="line">ExcelReader template = ExcelUtil.getReader(<span class="keyword">new</span> ByteArrayInputStream(bytes), <span class="string">&quot;批量导入模板&quot;</span>);</span><br><span class="line">ExcelReader item = ExcelUtil.getReader(<span class="keyword">new</span> ByteArrayInputStream(bytes), <span class="string">&quot;对照表管理（品名）&quot;</span>);</span><br><span class="line">ExcelReader body = ExcelUtil.getReader(<span class="keyword">new</span> ByteArrayInputStream(bytes), <span class="string">&quot;对照表管理（主体）&quot;</span>);</span><br></pre></td></tr></table></figure><h4 id="15、进行Map表格映射并转为Bean"><a href="#15、进行Map表格映射并转为Bean" class="headerlink" title="15、进行Map表格映射并转为Bean"></a>15、进行Map表格映射并转为Bean</h4><blockquote><p>  使用Hutool工具类的BeanUtil.toBean() 方法，使 <code>原始Map</code> 根据 <code>映射Map</code> 转换为 <code>Bean</code>，其中映射Map的键为原始Map的键，而值为Bean中的变量名</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Person 类</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> String name,</span><br><span class="line">    <span class="keyword">private</span> String age</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 原始Map</span></span><br><span class="line">HashMap&lt;String, Object&gt; map = CollUtil.newHashMap();</span><br><span class="line">map.put(<span class="string">&quot;a_name&quot;</span>, <span class="string">&quot;Joe&quot;</span>);</span><br><span class="line">map.put(<span class="string">&quot;b_age&quot;</span>, <span class="number">12</span>);</span><br><span class="line"><span class="comment">// 映射Map：设置别名，用于对应bean的字段名</span></span><br><span class="line">HashMap&lt;String, String&gt; mapping = CollUtil.newHashMap();</span><br><span class="line">mapping.put(<span class="string">&quot;a_name&quot;</span>, <span class="string">&quot;name&quot;</span>);</span><br><span class="line">mapping.put(<span class="string">&quot;b_age&quot;</span>, <span class="string">&quot;age&quot;</span>);</span><br><span class="line"><span class="comment">// 进行 toBean 转换</span></span><br><span class="line">Person person = BeanUtil.toBean(map, Person.class, CopyOptions.create().setFieldMapping(mapping));</span><br></pre></td></tr></table></figure><p>通过映射的方式，就不需要频繁使用 map.get 方法获取值并调用setXxx方法。</p><h4 id="16、创建API文档的方式"><a href="#16、创建API文档的方式" class="headerlink" title="16、创建API文档的方式"></a>16、创建API文档的方式</h4><ol><li><p>在对应的控制层上方添加<code>@Api</code>注解</p> <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Api(tags = &#123;&quot;pc-退货处理&quot;&#125;)</span></span><br></pre></td></tr></table></figure><p> <img src="/2021/08/05/%E6%97%A5%E5%B8%B8%E8%AE%B0%E5%BD%95/image-20210803160420009.png" class="lazyload" data-srcset="/2021/08/05/%E6%97%A5%E5%B8%B8%E8%AE%B0%E5%BD%95/image-20210803160420009.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="image-20210803160420009"></p></li><li><p>在对应的接口上方添加<code>@ApiOperation</code>注解</p> <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// value作为标签显示的内容，notes作为该Api的描述内容 </span></span><br><span class="line"><span class="meta">@ApiOperation(value = &quot;批量导入退货单&quot;, notes = &quot;通过Excel批量导入退货单&quot;, httpMethod = &quot;POST&quot;)</span></span><br></pre></td></tr></table></figure><p> <img src="/2021/08/05/%E6%97%A5%E5%B8%B8%E8%AE%B0%E5%BD%95/image-20210803160445784.png" class="lazyload" data-srcset="/2021/08/05/%E6%97%A5%E5%B8%B8%E8%AE%B0%E5%BD%95/image-20210803160445784.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="image-20210803160445784"></p><p> 效果如下：</p><p> <img src="/2021/08/05/%E6%97%A5%E5%B8%B8%E8%AE%B0%E5%BD%95/image-20210803160603377.png" class="lazyload" data-srcset="/2021/08/05/%E6%97%A5%E5%B8%B8%E8%AE%B0%E5%BD%95/image-20210803160603377.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="image-20210803160603377"></p></li></ol><h4 id="17、输出日志信息"><a href="#17、输出日志信息" class="headerlink" title="17、输出日志信息"></a>17、输出日志信息</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">logger.info(<span class="string">&quot;BarLoadRelationshipWebService.importData &#123;&#125;&quot;</span>, fileName);</span><br></pre></td></tr></table></figure><h4 id="18、获取当天时间"><a href="#18、获取当天时间" class="headerlink" title="18、获取当天时间"></a>18、获取当天时间</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ConversionFunction.Date.formatDate(LocalDate.now())</span><br></pre></td></tr></table></figure><h4 id="19、获取当前登录的用户信息"><a href="#19、获取当前登录的用户信息" class="headerlink" title="19、获取当前登录的用户信息"></a>19、获取当前登录的用户信息</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">BizUser user = ThreadData.getUser();</span><br></pre></td></tr></table></figure><h4 id="20、增加事务回滚"><a href="#20、增加事务回滚" class="headerlink" title="20、增加事务回滚"></a>20、增加事务回滚</h4><blockquote><p>  在对应的方法上面添加注解</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Transactional(rollbackFor = Exception.class)</span></span><br></pre></td></tr></table></figure><h4 id="21、拼接字符串"><a href="#21、拼接字符串" class="headerlink" title="21、拼接字符串"></a>21、拼接字符串</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 例子</span></span><br><span class="line">String.format(<span class="string">&quot;料号【%s】不存在，请先补充或检查是否填写错误&quot;</span>, barLoadRel.getMaterialCode())</span><br></pre></td></tr></table></figure><h4 id="22、抛出异常"><a href="#22、抛出异常" class="headerlink" title="22、抛出异常"></a>22、抛出异常</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">throw</span> BaseRet.createFailResult(<span class="number">1111</span>, errorList.toString()).toException();</span><br></pre></td></tr></table></figure><h3 id="2、前端内容"><a href="#2、前端内容" class="headerlink" title="2、前端内容"></a>2、前端内容</h3><blockquote><p>  SCSS的基本内容</p></blockquote><ol><li><p> Sass就是css的预处理器，Scss是Sass3版本中引入的新语法特性</p></li><li><p>vue中使用scss，安装：</p> <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cnpm i -S node-sass sass-loader</span><br></pre></td></tr></table></figure></li><li><p>使用方法：</p> <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">lang</span>=<span class="string">&quot;scss&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure></li><li><p> 支持定义变量，内容嵌套等内容</p></li></ol><p>参考文章：<a href="https://blog.csdn.net/qq_40323256/article/details/109138173">https://blog.csdn.net/qq_40323256/article/details/109138173</a></p><p>中文文档：<a href="https://www.sass.hk/docs/">https://www.sass.hk/docs/</a></p><blockquote><p>  切换分支</p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git checkout [分支名]</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>test</title>
      <link href="/2021/08/05/test/"/>
      <url>/2021/08/05/test/</url>
      
        <content type="html"><![CDATA[]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>Hello World</title>
      <link href="/2021/08/05/hello-world/"/>
      <url>/2021/08/05/hello-world/</url>
      
        <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/writing.html">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/server.html">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/generating.html">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>]]></content>
      
      
      
    </entry>
    
    
  
  
</search>
